<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mood Tracker App</title>
    <link rel="icon" href="logo.png" type="image/png">
    <link rel="manifest" href="manifest.json">
    <style>
        /* Base styles */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh; /* Changed to min-height */
            background: linear-gradient(to bottom right, #a8ff78, #78ffd6); /* Gradient background */
            color: #333;
        }

        .container {
            text-align: center;
            background: rgba(255, 255, 255, 0.9); /* Translucent white background */
            padding: 30px; /* Increased padding */
            border-radius: 15px; /* More rounded corners */
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2); /* Stronger shadow */
            width: 320px; /* Slightly wider */
            max-width: 90%; /* Responsive width */
            transition: all 0.5s ease-in-out; /* Smooth transition */
        }

        .container:hover {
            transform: scale(1.02); /* Slight zoom on hover */
        }

        h1 {
            font-size: 28px; /* Larger title */
            margin-bottom: 25px;
            color: #2980b9; /* Title color */
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1); /* Text shadow */
        }

        .emoji-container {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap; /* Wrap emojis on smaller screens */
        }

        .emoji {
            font-size: 50px;
            cursor: pointer;
            margin: 15px; /* Increased margin */
            transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55); /* Bouncy animation */
        }

        .emoji:hover {
            transform: scale(1.3);
            filter: drop-shadow(3px 3px 5px rgba(0, 0, 0, 0.3)); /* Emoji shadow */
        }

        .feedback {
            font-size: 18px; /* Larger feedback text */
            margin-top: 20px;
            color: #e74c3c; /* Feedback color */
            font-style: italic; /* Italic text */
        }

        .btn, #save-note, #open-notes {
            margin-top: 25px;
            padding: 12px 25px;
            background: linear-gradient(to right, #6dd5ed, #2193b0); /* Gradient button */
            color: white;
            border: none;
            border-radius: 25px; /* Rounded button */
            cursor: pointer;
            font-size: 16px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2); /* Button shadow */
            transition: all 0.4s ease;
        }

        .btn:hover, #save-note:hover, #open-notes:hover {
            background: linear-gradient(to right, #2193b0, #6dd5ed);
            transform: translateY(-2px); /* Slight upward movement */
            box-shadow: 0 7px 20px rgba(0, 0, 0, 0.3);
        }

        /* Note Container */
        .notes-container {
            margin-top: 25px;
            padding: 15px;
            border: 2px solid #3498db; /* Border color */
            border-radius: 10px;
            display: none;
            background-color: rgba(52, 152, 219, 0.1); /* Translucent background */
        }

        #note-input {
            width: 100%;
            margin-bottom: 15px;
            padding: 10px;
            border: 1px solid #85c1e9;
            border-radius: 5px;
            resize: vertical;
            font-size: 16px;
        }

        #notes-list {
            list-style-type: none;
            padding: 0;
            margin-top: 15px;
            text-align: left;
        }

        #notes-list li {
            padding: 8px 0;
            border-bottom: 1px dashed #85c1e9; /* Dashed line */
        }

        #notes-list li:last-child {
            border-bottom: none;
        }

        /* Motivational Posts */
        .motivational-posts {
            margin-top: 35px;
            font-size: 16px;
            color: #2c3e50;
            background-color: rgba(236, 240, 241, 0.5); /* Light background */
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
        }

        .motivational-posts p {
            margin: 8px 0;
        }

        /* Privacy Policy Link */
        .privacy-link {
            margin-top: 25px;
            font-size: 14px;
            color: #8e44ad; /* Link color */
            cursor: pointer;
            text-decoration: underline; /* Underline */
            transition: color 0.3s ease;
        }

        .privacy-link:hover {
            color: #9b59b6;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.5); /* Darker background */
        }

        .modal-content {
            background-color: white;
            margin: 10% auto;
            padding: 30px;
            border: 3px solid #34495e; /* Border */
            border-radius: 12px;
            width: 80%;
            max-width: 600px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .close {
            color: #c0392b; /* Close button color */
            float: right;
            font-size: 30px;
            font-weight: bold;
            transition: color 0.3s ease;
        }

        .close:hover,
        .close:focus {
            color: #e74c3c;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Mood Tracker</h1>
        <p>Select your mood today:</p>
        <div class="emoji-container">
            <span class="emoji" data-mood="happy" onclick="setMood('happy')">üòä</span>
            <span class="emoji" data-mood="neutral" onclick="setMood('neutral')">üòê</span>
            <span class="emoji" data-mood="sad" onclick="setMood('sad')">üòû</span>
            <span class="emoji" data-mood="anxious" onclick="setMood('anxious')">üò∞</span>
            <span class="emoji" data-mood="stressed" onclick="setMood('stressed')">üò£</span>
            <span class="emoji" data-mood="depressed" onclick="setMood('depressed')">üòî</span>
        </div>
        <div class="feedback" id="feedback">Feeling good? Let us know!</div>
        <button class="btn" onclick="saveMood()">Save Mood</button>

        <button class="btn" id="open-notes">Write a Reflection</button>

        <div class="notes-container" id="notes-container">
            <textarea id="note-input" placeholder="Write your reflection here..."></textarea>
            <button id="save-note">Save Reflection</button>
            <ul id="notes-list"></ul>
        </div>

        <div class="motivational-posts">
            <p><strong>Motivational Tip:</strong> "Believe in yourself and all that you are. Know that there is something inside you that is greater than any obstacle."</p>
            <p><strong>Mental Health Tip:</strong> "Your feelings are valid. It's okay to not be okay."</p>
        </div>

        <p class="privacy-link" onclick="showPrivacyPolicy()">Privacy Policy</p>
    </div>

    <div id="privacyModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closePrivacyPolicy()">&times;</span>
            <h2>Privacy Policy</h2>
            <p>Your privacy is important to us. This app does not collect or store any personal data. The mood you select is stored locally on your device only, using your browser's local storage. We do not share or transfer your mood data to any third parties.</p>
            <p>If you have any concerns or questions, feel free to contact us at webdev031@gmail.com.</p>
        </div>
    </div>

    <script>
        let currentMood = '';

        // Get DOM elements for notes
        const openNotesButton = document.getElementById('open-notes');
        const notesContainer = document.getElementById('notes-container');
        const noteInput = document.getElementById('note-input');
        const saveNoteButton = document.getElementById('save-note');
        const notesList = document.getElementById('notes-list');

        // Set the mood
        function setMood(mood) {
            currentMood = mood;
            const feedback = document.getElementById('feedback');

            const moodFeedback = {
                happy: "That's awesome! You're feeling happy!",
                neutral: "Okay, you're feeling neutral.",
                sad: "Sorry you're feeling down. Hang in there!",
                anxious: "You're feeling anxious, take a deep breath.",
                stressed: "Take it easy, you're feeling stressed.",
                depressed: "Sorry you're feeling this way, take care of yourself."
            };

            feedback.textContent = moodFeedback[mood] || "How are you feeling today?";
        }

        // Save the mood to local storage
        function saveMood() {
            if (currentMood === '') {
                alert("Please select a mood first!");
            } else {
                alert(`Your mood has been saved as: ${currentMood}`);
                let history = JSON.parse(localStorage.getItem('moodHistory')) || [];
                history.push({
                    mood: currentMood,
                    date: new Date().toLocaleDateString()
                });
                localStorage.setItem('moodHistory', JSON.stringify(history));
            }
        }

        // View the history of moods
        function viewHistory() {
            const history = JSON.parse(localStorage.getItem('moodHistory')) || [];
            if (history.length === 0) {
                alert("No mood history available.");
                return;
            }

            let historyText = "Your Mood History:\n\n";
            history.forEach(entry => {
                historyText += `${entry.date}: ${entry.mood}\n`;
            });

            alert(historyText);
        }

        // Note taking functionality
        openNotesButton.addEventListener('click', () => {
            notesContainer.style.display = 'block';
        });

        saveNoteButton.addEventListener('click', () => {
            const noteText = noteInput.value.trim();
            if (noteText !== "") {
                saveNote(noteText);
                noteInput.value = "";
                displayNotes();
            } else {
                alert("Please enter a note.");
            }
        });

        function saveNote(note) {
            let notes = JSON.parse(localStorage.getItem('notes')) || [];
            notes.push(note);
            localStorage.setItem('notes', JSON.stringify(notes));
        }

        function displayNotes() {
            const notes = JSON.parse(localStorage.getItem('notes')) || [];
            notesList.innerHTML = "";
            if (notes.length === 0) {
                notesList.innerHTML = "<li>No notes saved.</li>";
            } else {
                notes.forEach((note, index) => {
                    const li = document.createElement('li');
                    li.textContent = note;
                    notesList.appendChild(li);
                });
            }
        }

        // Privacy Policy Modal
        function showPrivacyPolicy() {
            const modal = document.getElementById('privacyModal');
            modal.style.display = "block";
        }

        function closePrivacyPolicy() {
            const modal = document.getElementById('privacyModal');
            modal.style.display = "none";
        }

        // Close modal when user clicks outside
        window.onclick = function (event) {
            const modal = document.getElementById('privacyModal');
            if (event.target === modal) {
                modal.style.display = "none";
            }
        };

        // Register Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then((registration) => {
                        console.log('Service Worker registered with scope:', registration.scope);
                    })
                    .catch((error) => {
                        console.error('Service Worker registration failed:', error);
                    });
            });
        }
    </script>
</body>

</html>
