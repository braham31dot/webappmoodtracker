<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mood Tracker App</title>
  <link rel="icon" href="logo.png" type="image/png">
  <link rel="manifest" href="manifest.json">
  <style>
    /* Base Styles */
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #111;
      color: #fff;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      flex-direction: column;
      font-size: 16px;
    }

    .container {
      text-align: center;
      background-color: #333;
      padding: 40px;
      border-radius: 12px;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
      width: 350px;
      max-width: 100%;
    }

    h1 {
      font-size: 30px;
      margin-bottom: 20px;
      color: gold;
    }

    .emoji {
      font-size: 70px;
      cursor: pointer;
      margin: 10px;
      transition: transform 0.3s ease, filter 0.3s ease, text-shadow 0.3s ease;
    }

    .emoji:hover {
      transform: scale(1.4);
      filter: brightness(1.5);
      text-shadow: 0 0 15px gold, 0 0 20px gold;
    }

    .emoji:active {
      transform: scale(1.2);
      filter: brightness(1.2);
      text-shadow: 0 0 8px gold, 0 0 12px gold;
    }

    .feedback {
      font-size: 18px;
      margin-top: 20px;
      color: white;
    }

    .btn {
      margin-top: 20px;
      padding: 12px 30px;
      background-color: gold;
      color: black;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-size: 18px;
      transition: background 0.3s ease;
    }

    .btn:hover {
      background-color: #f39c12;
    }

    /* Floating Note Button */
    .floating-note-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: gold;
      color: black;
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      font-size: 30px;
      cursor: pointer;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
      transition: transform 0.3s ease;
    }

    .floating-note-btn:hover {
      transform: scale(1.2);
    }

    /* Note Box */
    .note-box {
      display: none;
      position: fixed;
      bottom: 100px;
      right: 20px;
      background-color: #222;
      padding: 20px;
      border-radius: 12px;
      width: 300px;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.3);
      color: #fff;
    }

    textarea {
      width: 100%;
      height: 120px;
      margin-top: 10px;
      padding: 10px;
      border-radius: 10px;
      background-color: #444;
      color: #fff;
      border: 1px solid #777;
    }

    .note-history-btn,
    .save-note-btn {
      margin-top: 15px;
      padding: 10px 25px;
      background-color: gold;
      color: black;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-size: 16px;
      transition: background 0.3s ease;
    }

    .note-history-btn:hover,
    .save-note-btn:hover {
      background-color: #f39c12;
    }

    /* Notes History */
    .history-container {
      display: none;
      position: fixed;
      top: 10%;
      left: 50%;
      transform: translateX(-50%);
      background-color: #333;
      padding: 20px;
      border-radius: 12px;
      width: 80%;
      max-width: 800px;
      color: white;
      overflow-y: auto;
      max-height: 60%;
    }

    .note-entry {
      background-color: #222;
      margin-bottom: 10px;
      padding: 10px;
      border-radius: 8px;
      display: flex;
      flex-direction: column;
    }

    .note-entry p {
      margin: 5px 0;
      font-size: 14px;
    }

    .note-entry .date {
      font-size: 12px;
      color: #aaa;
    }

    /* Privacy Policy Modal */
    .modal {
      display: none;
      position: fixed;
      z-index: 1;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, 0.8);
    }

    .modal-content {
      background-color: black;
      color: red;
      margin: 15% auto;
      padding: 20px;
      border-radius: 10px;
      width: 80%;
      max-width: 600px;
    }

    .close {
      color: red;
      float: right;
      font-size: 28px;
      font-weight: bold;
    }

    .close:hover,
    .close:focus {
      color: gold;
      text-decoration: none;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Mood Tracker</h1>
    <p>Select your mood today:</p>
    <div>
      <span class="emoji" data-mood="happy" onclick="setMood('happy')">üòä</span>
      <span class="emoji" data-mood="neutral" onclick="setMood('neutral')">üòê</span>
      <span class="emoji" data-mood="sad" onclick="setMood('sad')">üòû</span>
      <span class="emoji" data-mood="anxious" onclick="setMood('anxious')">üò∞</span>
      <span class="emoji" data-mood="stressed" onclick="setMood('stressed')">üò£</span>
      <span class="emoji" data-mood="depressed" onclick="setMood('depressed')">üòî</span>
    </div>
    <div class="feedback" id="feedback">Feeling good? Let us know!</div>
    <button class="btn" onclick="saveMood()">Save Mood</button>
  </div>

  <!-- Floating Note Button -->
  <button class="floating-note-btn" onclick="toggleNoteBox()">üìù</button>

  <!-- Notes Box -->
  <div class="note-box" id="noteBox">
    <textarea id="noteText" placeholder="Write your reflection here..."></textarea>
    <button class="save-note-btn" onclick="saveNote()">Save Note</button>
    <button class="note-history-btn" onclick="viewNoteHistory()">Read Note History</button>
  </div>

  <!-- Notes History -->
  <div class="history-container" id="historyContainer">
    <h2>Notes History</h2>
    <div id="notesHistory"></div>
    <button class="note-history-btn" onclick="closeNoteHistory()">Close</button>
  </div>

  <!-- Privacy Policy Modal -->
  <div id="privacyModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closePrivacyPolicy()">&times;</span>
      <h2>Privacy Policy</h2>
      <p>Your privacy is important to us. This app does not collect or store any personal data. The mood you select is stored locally on your device only, using your browser's local storage. We do not share or transfer your mood data to any third parties.</p>
      <p>If you have any concerns or questions, feel free to contact us at webdev031@gmail.com.</p>
    </div>
  </div>

  <script>
    let currentMood = '';
    let notes = JSON.parse(localStorage.getItem('notes')) || [];

    function setMood(mood) {
      currentMood = mood;
      const feedback = document.getElementById('feedback');
      const moodFeedback = {
        happy: "That's awesome! You're feeling happy!",
        neutral: "Okay, you're feeling neutral.",
        sad: "Sorry you're feeling down. Hang in there!",
        anxious: "You're feeling anxious, take a deep breath.",
        stressed: "Take it easy, you're feeling stressed.",
        depressed: "Sorry you're feeling this way, take care of yourself."
      };

      feedback.textContent = moodFeedback[mood] || "How are you feeling today?";
    }

    function saveMood() {
      if (currentMood === '') {
        alert("Please select a mood first!");
        return;
      }
      const date = new Date().toLocaleString();
      localStorage.setItem('mood', currentMood);
      alert(`Mood saved! ${currentMood} on ${date}`);
    }

    function toggleNoteBox() {
      const noteBox = document.getElementById('noteBox');
      noteBox.style.display = noteBox.style.display === 'block' ? 'none' : 'block';
    }

    function saveNote() {
      const noteText = document.getElementById('noteText').value;
      if (noteText === '') {
        alert("Please write a note first!");
        return;
      }
      const note = { text: noteText, date: new Date().toLocaleString() };
      notes.push(note);
      localStorage.setItem('notes', JSON.stringify(notes));
      document.getElementById('noteText').value = '';
      alert("Note saved!");
    }

    function viewNoteHistory() {
      const historyContainer = document.getElementById('historyContainer');
      const notesHistory = document.getElementById('notesHistory');
      notesHistory.innerHTML = '';
      notes.forEach(note => {
        const noteElement = document.createElement('div');
        noteElement.classList.add('note-entry');
        noteElement.innerHTML = `<p>${note.text}</p><p class="date">${note.date}</p>`;
        notesHistory.appendChild(noteElement);
      });
      historyContainer.style.display = 'block';
    }

    function closeNoteHistory() {
      const historyContainer = document.getElementById('historyContainer');
      historyContainer.style.display = 'none';
    }

    function closePrivacyPolicy() {
      const privacyModal = document.getElementById('privacyModal');
      privacyModal.style.display = 'none';
    }

    window.onclick = function(event) {
      const privacyModal = document.getElementById('privacyModal');
      if (event.target === privacyModal) {
        privacyModal.style.display = 'none';
      }
    }
  </script>
</body>
</html>
